"use strict";(self.webpackChunkiLoad=self.webpackChunkiLoad||[]).push([[458],{2458:function(H,c,a){a.r(c),a.d(c,{RequestsModule:function(){return $}});var f=a(554),p=a(3337),h=a(7776),q=a(5959),m=a(5416),C=function(e){return e.DonationRequest="DonationRequest",e}({}),t=a(5663),v=a(1041),g=a(8175),Z=a(2935),i=a(9199),x=a(9241),d=a(1116),R=a(5609),T=a(4311),y=a(7307),l=a(7070),A=a(3985);function M(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.nameLabel")," "))}function O(e,n){if(1&e&&(t.TgZ(0,"td",18),t.TgZ(1,"div",19),t.TgZ(2,"div",20),t.TgZ(3,"div",21),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){var o=n.$implicit;t.xp6(4),t.Oqu(o.name)}}function b(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.descriptionLabel")," "))}function D(e,n){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"div",19),t._uU(2),t.ALo(3,"slice"),t.qZA(),t.qZA()),2&e){var o=n.$implicit;t.s9C("matTooltip",o.description),t.xp6(2),t.hij("",t.Dn7(3,2,o.description,0,10),"...")}}function _(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.imageLabel")," "))}function P(e,n){if(1&e&&(t.TgZ(0,"td",18),t.TgZ(1,"div",19),t._uU(2),t.qZA(),t.qZA()),2&e){var o=n.$implicit;t.xp6(2),t.Oqu(o.imageUrl)}}function F(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.statusLabel")," "))}function S(e,n){if(1&e&&(t.TgZ(0,"td",18),t.TgZ(1,"div",19),t._uU(2),t.qZA(),t.qZA()),2&e){var o=n.$implicit;t.xp6(2),t.Oqu(o.requestStatus)}}function B(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.createdByLabel")," "))}function w(e,n){if(1&e&&(t.TgZ(0,"td",18),t.TgZ(1,"div",19),t._uU(2),t.qZA(),t.qZA()),2&e){var o=n.$implicit;t.xp6(2),t.Oqu(o.createdBy.fullName)}}function Y(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"request.actionsLabel")," "))}function N(e,n){if(1&e){var o=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"mat-icon",25),t.TgZ(2,"mat-menu",null,26),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(o);var r=t.oxw().$implicit;return t.oxw().openDeleteAccountDialog(r.id)}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&e){var s=t.MAs(3);t.xp6(1),t.Q6J("matMenuTriggerFor",s),t.xp6(4),t.hij(" ",t.lcZ(6,2,"request.deleteAccountLabel")," ")}}function L(e,n){if(1&e&&(t.TgZ(0,"td",23),t.YNc(1,N,7,4,"div",24),t.qZA()),2&e){var o=n.$implicit;t.xp6(1),t.Q6J("ngIf","Deleted"!==o.status)}}function Q(e,n){1&e&&t._UZ(0,"tr",28)}function U(e,n){1&e&&t._UZ(0,"tr",29)}function z(e,n){1&e&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"general.noRecordsFoundLabel")," "))}var j=[{path:"",pathMatch:"full",component:function(){function e(n,o,s,u,r){this.formBuilder=n,this.usersService=o,this.dialog=s,this.router=u,this.apiService=r,this.unsubscribe$=new q.xQ,this.tableColumns=["name","description","image","status","createdBy","actions"],this.pageSizeOptions=[10,50,100],this.requests=[],this.pageCount=0}return e.prototype.ngOnInit=function(){this.setForms(),this.updateClients(),this.listenForQueryParametersChange()},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.listenForQueryParametersChange=function(){this.getRequests()},e.prototype.changeSearch=function(n){this.getRequestsFormGroup.patchValue({searchTerm:n,pageIndex:0})},e.prototype.setForms=function(){this.getRequestsFormGroup=this.formBuilder.group({searchTerm:"",sortBy:0,sortByDirection:0,pageSize:10,pageIndex:0})},e.prototype.getRequests=function(){var n=this;this.apiService.get(C.DonationRequest).pipe((0,m.R)(this.unsubscribe$)).subscribe(function(o){n.requests=o,n.totalCount=10,n.pageCount=1})},e.prototype.openDeleteAccountDialog=function(n){this.dialog.open(h.e,{width:"440px"}).afterClosed()},e.prototype.deleteAccount=function(n){},e.prototype.updateClients=function(){var n=this;this.getRequestsFormGroup.valueChanges.pipe((0,m.R)(this.unsubscribe$)).subscribe(function(){n.setDefaultFiltersQueryParams()})},e.prototype.setDefaultFiltersQueryParams=function(){this.router.navigate([],{queryParams:{searchTerm:this.getRequestsFormGroup.value.searchTerm,sortBy:this.getRequestsFormGroup.value.sortBy,sortByDirection:this.getRequestsFormGroup.value.sortByDirection,pageSize:this.getRequestsFormGroup.value.pageSize,pageIndex:this.getRequestsFormGroup.value.pageIndex}}).then()},e.prototype.paginatorEvent=function(n){this.getRequestsFormGroup.patchValue({pageSize:n.pageSize,pageIndex:n.pageIndex})},e.prototype.sortData=function(n){this.getRequestsFormGroup.patchValue({sortBy:+n.active,sortByDirection:"desc"===n.direction?1:0})},e.\u0275fac=function(o){return new(o||e)(t.Y36(v.qu),t.Y36(g.fz),t.Y36(Z.uw),t.Y36(p.F0),t.Y36(g.sM))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:25,vars:8,consts:[[1,"requests-wrapper"],[1,"requests-table"],["mat-table","","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","name"],["class","label","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","status"],["matColumnDef","createdBy"],["matColumnDef","actions"],["class","actions","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","records-not-found",4,"ngIf"],[1,"paginator",3,"length","pageIndex","pageSizeOptions","pageSize","page"],["mat-header-cell","",1,"label"],["mat-cell",""],[1,"label"],[1,"name-item-wrapper"],[1,"name-item","name-item-editor"],["mat-cell","",3,"matTooltip"],["mat-cell","",1,"actions"],["class","label",4,"ngIf"],["svgIcon","options-icon",1,"icon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"records-not-found"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.NdJ("matSortChange",function(r){return s.sortData(r)}),t.ynx(3,3),t.YNc(4,M,3,3,"th",4),t.YNc(5,O,5,1,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,b,3,3,"th",4),t.YNc(8,D,4,6,"td",7),t.BQk(),t.ynx(9,8),t.YNc(10,_,3,3,"th",4),t.YNc(11,P,3,1,"td",5),t.BQk(),t.ynx(12,9),t.YNc(13,F,3,3,"th",4),t.YNc(14,S,3,1,"td",5),t.BQk(),t.ynx(15,10),t.YNc(16,B,3,3,"th",4),t.YNc(17,w,3,1,"td",5),t.BQk(),t.ynx(18,11),t.YNc(19,Y,3,3,"th",4),t.YNc(20,L,2,1,"td",12),t.BQk(),t.YNc(21,Q,1,0,"tr",13),t.YNc(22,U,1,0,"tr",14),t.qZA(),t.YNc(23,z,3,3,"p",15),t.qZA(),t.TgZ(24,"mat-paginator",16),t.NdJ("page",function(r){return s.paginatorEvent(r)}),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("dataSource",s.requests),t.xp6(19),t.Q6J("matHeaderRowDef",s.tableColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.tableColumns),t.xp6(1),t.Q6J("ngIf",!s.requests.length),t.xp6(1),t.Q6J("length",s.totalCount)("pageIndex",s.getRequestsFormGroup.controls.pageIndex.value)("pageSizeOptions",s.pageSizeOptions)("pageSize",s.getRequestsFormGroup.controls.pageSize.value))},directives:[i.BZ,x.YE,i.w1,i.fO,i.Dz,i.as,i.nj,d.O5,R.NW,i.ge,i.ev,T.gM,y.Hw,l.p6,l.VK,l.OP,i.XQ,i.Gk],pipes:[A.X$,d.OU],styles:["[_nghost-%COMP%]{display:flex;flex:1}.requests-wrapper[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff 0%,#f6f9fe 100%);max-width:inherit;padding:48px 25px;flex-direction:column}.requests-wrapper[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]{width:calc(100vw - 82px);min-height:160px}.requests-wrapper[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#12244a}.requests-wrapper[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .show-details-icon[_ngcontent-%COMP%]{width:16px;fill:#dadada;cursor:pointer}.requests-wrapper[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .show-details-icon[_ngcontent-%COMP%]:hover{fill:#20b7f7}.requests-wrapper[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;display:block;margin:0 auto;cursor:pointer}.requests-wrapper[_ngcontent-%COMP%]   .records-not-found[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:48px;color:#12244a}.requests-wrapper[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]{margin-top:48px}","@media (max-width: 1440px){.requests-wrapper[_ngcontent-%COMP%]{padding:40px 25px}}"]}),e}()}],G=function(){function e(){}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(j)],p.Bz]}),e}(),$=function(){function e(){}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[G,f.m]]}),e}()}}]);